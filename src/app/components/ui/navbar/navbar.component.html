<mat-toolbar id="navbar" color="primary">
  <div id="navbar__navigation">
    <app-navbar-link
      redirectUrl="/home"
      [activeUrl]="activeUrl"
      [allowedUserRoles]="['regular', 'admin']"
      [allowedNonAuthUser]="true"
      label="Home"
    ></app-navbar-link>

    <app-navbar-link
      redirectUrl="/contact"
      [activeUrl]="activeUrl"
      [allowedUserRoles]="['regular']"
      [allowedNonAuthUser]="true"
      label="Contact"
    ></app-navbar-link>

    <!-- TODO: Add redirectUrl -->
    <app-navbar-link
      label="View users"
      [activeUrl]="activeUrl"
      [allowedUserRoles]="['admin']"
      redirectUrl=""
    ></app-navbar-link>
  </div>

  <div id="navbar__actions">
    <div id="navbar__actions__searchbar">
      <mat-icon id="navbar__actions__searchbar__icon">search</mat-icon>
      <input
        id="navbar__actions__searchbar__input"
        type="text"
        placeholder="Search"
        [(ngModel)]="searchTerm"
        (keyup.enter)="performSearch()"
      />
    </div>

    <div id="navbar__actions__auth">
      <app-navbar-link
        label="Sign In"
        [activeUrl]="activeUrl"
        [allowedUserRoles]="['regular']"
        [allowedNonAuthUser]="true"
        [denyRendering]="getUserSession() !== null"
        redirectUrl="/signin"
      ></app-navbar-link>

      <app-navbar-link
        label="Sign Up"
        [activeUrl]="activeUrl"
        [allowedUserRoles]="['regular']"
        [allowedNonAuthUser]="true"
        [denyRendering]="getUserSession() !== null"
        redirectUrl="/signup"
      ></app-navbar-link>

      <app-navbar-button
        label="Sign out"
        [allowedUserRoles]="['regular', 'admin']"
        [callback]="destroyUserSession"
      ></app-navbar-button>

      <app-navbar-link
        [label]="username"
        [activeUrl]="activeUrl"
        [allowedUserRoles]="['regular', 'admin']"
        redirectUrl="/users/{{ username }}"
      ></app-navbar-link>
    </div>
  </div>
</mat-toolbar>
